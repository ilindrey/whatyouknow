{% extends 'core/base.html' %}
{% load custom %}

{% block menu %}
    {% include 'includes/menu.html' %}
{% endblock %}


{% block roof %}

    <div class="ui primary secondary pointing menu">
        <a class="item">
            My choices
        </a>
        <a class="active item">
            All
        </a>

        {% for index, name in categories %}
            <a class="item">
                {{ name }}
            </a>
        {% endfor %}
    </div>

    <div class="ui tiny compact menu">
        <a class="item">
            Day
        </a>
        <a class="primary active item">
            Week
        </a>
        <a class="item">
            Month
        </a>
        <a class="item">
            Year
        </a>
    </div>

    <div class="ui right floated tiny compact menu">
        <a class="primary active item">
            Any rating
        </a>
        <a class="item">
            <i class="grey greater than equal icon"></i>10
        </a>
        <a class="item">
            <i class="grey greater than equal icon"></i>25
        </a>
        <a class="item">
            <i class="grey greater than equal icon"></i>50
        </a>
        <a class="item">
            <i class="grey greater than equal icon"></i>75
        </a>
        <a class="item">
            <i class="grey greater than equal icon"></i>80
        </a>
        <a class="item">
            <i class="grey greater than equal icon"></i>90
        </a>
    </div>

{% endblock %}


{% block content %}

    <div class="ui two link cards">

        {% for post in posts %}
            <a class="ui card" href="{% url 'post_detail' post.pk %}">

                <div class="cropped image">
                    <img src="{{ post.feed_cover }}">
                </div>

                <div class="content">

                    <div class="ui list">


                        <div class="item">
                            <div class="header">{{ post.title }}</div>
                        </div>

                        <div class="item">
                            <span class="ui grey text">
                                {{ post.feed_article_preview|safe|truncatechars:310 }}
                            </span>
                        </div>

                        <div class="right floated item">
                            <img class="ui avatar image" src="{{ post.user.image.url }}">
                            <div class="content">
                                <div class="ui black text">{{ post.user.name }}</div>
                                <span class="ui grey text">(@{{ post.user.username }})</span>
                            </div>
                        </div>

                    </div>

                </div>
                <div class="extra">
                    <div class="ui horizontal list">
                        <div class="item">
                            <i class="ui star icon"></i>
                            8.7
                        </div>
                        <div class="item">
                            <i class="ui bookmark icon"></i>
                            7
                        </div>
                        <div class="item">
                            <i class="ui comment icon"></i>
                            22
                        </div>

                    </div>
                    <div class="right floated item">{{ post.publish|datetime_format }}</div>
                </div>

            </a>

        {% endfor %}

    </div>

{% endblock %}


{% block floor %}
    <div class="ui left floated tiny pagination menu">
        <a class="item">
            <i class="angle double left icon"></i>
        </a>
        <a class="item">
            <i class="angle left icon"></i>
        </a>
        <a class="item">
            1
        </a>
        <a class="item">
            2
        </a>
        <a class="primary active item">
            3
        </a>
        <a class="item">
            4
        </a>
        <a class="item">
            5
        </a>
        <div class="disabled item">
            ...
        </div>
        <a class="item">
            78
        </a>
        <a class="item">
            <i class="angle right icon"></i>
        </a>
        <a class="item">
            <i class="angle double right icon"></i>
        </a>
    </div>
{% endblock %}


{% block rail %}
    {% include 'includes/rail.html' %}
{% endblock %}